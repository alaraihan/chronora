<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title><%= title || 'Chronora' %></title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">

  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" />
  <link rel="stylesheet" href="/css/header.css">
  <link rel="stylesheet" href="/css/footer.css">
  <style>
    :root { --header-height: 70px; }
    body { margin: 0; padding-top: var(--header-height); background: #0f0f1a; color: white; font-family: 'Segoe UI', sans-serif; }
  </style>
</head>
<body>

  <%- include('../../partials/user/header') %>

  <main id="main">
    <%- body %>
  </main>

  <%- include('../../partials/user/footer') %>
<script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
  <script>
const flash = <%- JSON.stringify(typeof flash !== "undefined" ? flash : null) %>;

    if (flash) {
      Toastify({
        text: flash.message,
        duration: 4000,
        close: true,
        gravity: "top",
        position: "right",
        backgroundColor: flash.type === "success" ? "#4ade80" : "#ef4444",
        stopOnFocus: true,
      }).showToast();
    }
  </script>
  <script src="/js/main.js"></script>
</body>
</html>